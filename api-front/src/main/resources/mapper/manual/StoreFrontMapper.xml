<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.joycity.joyclub.apifront.mapper.manual.store.StoreFrontMapper">
    <sql id="limit">
      limit #{pageUtil.offset},#{pageUtil.pageSize}
  </sql>


    <select id="selectSimpleByFilter"
            resultType="com.joycity.joyclub.apifront.modal.base.IdNamePortrait">

        select s.id,s.name,s.portrait
        from sys_store s

        where
        <if test="projectId!=null">
            s.project_id = #{projectId} and
        </if>

        s.delete_flag=0
        order by s.id desc
        <include refid="limit"/>

    </select>


</mapper>